import React, { Suspense, lazy } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { content } from '../constants_universal';\n\n// --- UI Components ---\nimport { FadeIn } from '../components/ui/FadeIn';\nimport { Section } from '../components/ui/Section';\n\n// --- Page Section Components ---\nimport { Hero } from '../components/Hero';\nconst Context = lazy(() => import('../components/Context').then(module => ({ default: module.Context })));\nconst Technology = lazy(() => import('../components/Technology').then(module => ({ default: module.Technology })));\nconst Cases = lazy(() => import('../components/Cases').then(module => ({ default: module.Cases })));\nconst Tariffs = lazy(() => import('../components/Tariffs').then(module => ({ default: module.Tariffs })));\nconst Founder = lazy(() => import('../components/Founder').then(module => ({ default: module.Founder })));\nconst FAQ = lazy(() => import('../components/FAQ').then(module => ({ default: module.FAQ })));\nconst CTA = lazy(() => import('../components/CTA').then(module => ({ default: module.CTA })));\nimport { ContactMap } from '../components/ContactMap';\n\n// --- NEW Universal Components ---\n\n// 1. Niches Icons Block\nconst NichesBlock: React.FC<{ content: typeof content.niches }> = ({ content }) => {\n    const iconMap: { [key: string]: string } = {\n        utensils: 'üçΩÔ∏è',\n        dumbbell: 'üí™',\n        sparkles: 'üíÖ',\n        shoppingBag: 'üõçÔ∏è',\n        briefcase: 'üõ†Ô∏è',\n    };\n\n    return (\n        <Section>\n            <FadeIn>\n                <h2 className=\"text-center text-xl font-bold mb-12\">{content.h2}</h2>\n                <div className=\"flex flex-wrap justify-center gap-8 md:gap-12\">\n                    {content.items.map((item) => (\n                        <div key={item.title} className=\"flex flex-col items-center gap-3 text-center\">\n                            <div className=\"text-4xl\">{iconMap[item.icon] || '‚ùì'}</div>\n                            <span className=\"font-semibold text-sm\">{item.title}</span>\n                        </div>\n                    ))}\n                </div>\n            </FadeIn>\n        </Section>\n    );\n};\n\n// 2. Niche Solutions Block (Tabs)\nconst NicheSolutionsBlock: React.FC<{ content: typeof content.nicheSolutions }> = ({ content }) => {\n    const [activeTab, setActiveTab] = React.useState(0);\n\n    return (\n        <Section className=\"bg-surface/30\">\n            <FadeIn>\n                <h2 className=\"text-3xl md:text-5xl font-display font-bold text-center mb-12\">{content.h2}</h2>\n                <div className=\"flex flex-col md:flex-row gap-8 md:gap-12\">\n                    <div className=\"flex md:flex-col overflow-x-auto pb-4 md:pb-0 -mx-4 px-4 no-scrollbar\">\n                        {content.items.map((item, index) => (\n                            <button\n                                key={item.niche}\n                                onClick={() => setActiveTab(index)}\n                                className={`text-left text-lg font-bold p-4 rounded-lg whitespace-nowrap transition-colors duration-200 ${\n                                    activeTab === index ? 'bg-primary text-white' : 'text-textSec hover:bg-white/5'\n                                }`}\n                            >\n                                {item.niche}\n                            </button>\n                        ))}\n                    </div>\n                    <div className=\"w-full\">\n                        <div className=\"glass p-8 rounded-2xl\">\n                            <ul className=\"space-y-4\">\n                                {content.items[activeTab].tasks.map((task, i) => (\n                                    <li key={i} className=\"flex items-start gap-3\">\n                                        <span className=\"text-primary mt-1\">‚úî</span>\n                                        <span>{task}</span>\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </FadeIn>\n        </Section>\n    );\n};\n\n\n// --- The Main Universal Page Component ---\nexport const HomeUniversal: React.FC = () => {\n  const schemaMarkup = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"AdvertisingAgency\",\n    \"name\": `–ë–ë–ö - –ë–∞–Ω–¥–∞ –ë–ª–æ–≥–µ—Ä–æ–≤ ${content.hero.city}`,\n    \"image\": \"/images/hero_bg.webp\",\n    \"description\": \"–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –≤ –ö–µ–º–µ—Ä–æ–≤–æ —á–µ—Ä–µ–∑ –º–∏–∫—Ä–æ–±–ª–æ–≥–µ—Ä–æ–≤: —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, —Ñ–∏—Ç–Ω–µ—Å, –±—å—é—Ç–∏ –∏ —É—Å–ª—É–≥–∏.\",\n    \"address\": { \"@type\": \"PostalAddress\", \"addressLocality\": \"–ö–µ–º–µ—Ä–æ–≤–æ\", \"addressCountry\": \"RU\" },\n    \"url\": \"https://bbk-alpha.vercel.app/\",\n    // ... other schema data\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞ –≤ –ö–µ–º–µ—Ä–æ–≤–æ —á–µ—Ä–µ–∑ –±–ª–æ–≥–µ—Ä–æ–≤ | BBK Agency</title>\n        <meta name=\"description\" content=\"–ü—Ä–∏–≤–ª–µ–∫–∞–µ–º –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –≤–∞—à –±–∏–∑–Ω–µ—Å: —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, —Ñ–∏—Ç–Ω–µ—Å-–∫–ª—É–±—ã, —Å–∞–ª–æ–Ω—ã –∫—Ä–∞—Å–æ—Ç—ã. –û—Ç—Ç–æ—á–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–æ–≤.\" />\n        <script type=\"application/ld+json\">{JSON.stringify(schemaMarkup)}</script>\n      </Helmet>\n      \n      <Hero content={content.hero} />\n      <NichesBlock content={content.niches} />\n      \n      <Suspense fallback={<div className=\"h-96\" />}>\n        <FadeIn><Context content={content.context} /></FadeIn>\n        <FadeIn><Technology content={content.technology} /></FadeIn>\n        <Cases content={content.cases} />\n        <NicheSolutionsBlock content={content.nicheSolutions} />\n        <Tariffs content={content.tariffs} />\n        <Founder content={content.founder} />\n        <FAQ content={content.faq} />\n        <CTA content={{ cta: content.cta, settings: content.settings, legal: content.legal }} />\n      </Suspense>\n\n      <ContactMap content={content.contacts} />\n    </>\n  );\n};